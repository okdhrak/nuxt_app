(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{194:function(t,e,n){var content=n(318);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(47).default)("6e739cb2",content,!0,{sourceMap:!1})},317:function(t,e,n){"use strict";var o=n(194);n.n(o).a},318:function(t,e,n){(t.exports=n(46)(!1)).push([t.i,".login{font-weight:700;font-size:12pt;cursor:pointer}.list1{text-align:left;font-size:16pt}.list2{text-align:right;font-size:10pt}.container{padding:5px 10px}h1{font-size:60pt;color:#345980}p{padding-top:5px;margin:10px 0;font-size:20pt}.message{font-size:16pt}div{font-size:14pt}ul{margin:0 10px;background-color:#f0f8ff}li{padding:10px;font-size:14pt}tr th{width:120px;background-color:#00008b;color:#fff;font-size:16pt}tr td{padding:5px 10px;background-color:#eef;font-size:14pt}hr{margin:10px 0}button,input{font-size:14pt}",""])},332:function(t,e,n){"use strict";n.r(e);var o=n(199),r=n.n(o);n(298);r.a.initializeApp({apiKey:"AIzaSyDhpK5zcIcDE7Wmrlb-1jCFhQ1gfe3XBuw",authDomain:"dailyhackon-test.firebaseapp.com",databaseURL:"https://dailyhackon-test.firebaseio.com",projectId:"dailyhackon-test",storageBucket:"dailyhackon-test.appspot.com",messagingSenderId:"169707532956"});var l={data:function(){return{title:"Board",message:"ミニ伝言板。最新の投稿を表示します。",user_name:"",logined:!0,msg:"",page:0,num_per_page:10,json_data:{}}},methods:{login:function(){var t=new r.a.auth.GoogleAuthProvider,e=this;r.a.auth().signInWithPopup(t).then(function(t){console.log(t.user),e.user=t.user,e.user_name=t.user.displayName,e.message="ログインしました。",r.a.database().ref("board").orderByKey().limitToLast(e.num_per_page).on("value",function(t){if(null!=r.a.auth().currentUser){var n=[],data=t.val();for(var o in data)n.unshift(data[o]);console.log(n),e.json_data=n}else e.json_data={}})})},logout:function(){r.a.auth().signOut(),this.user_name="",this.json_data={},this.message="ログアウトしました。"},doLogin:function(){null==r.a.auth().currentUser?this.login():this.logout()},add:function(){if(null!=r.a.auth().currentUser){var t=r.a.database(),e=r.a.auth().currentUser;console.log(e);t.ref("board");var n=new Date,o=n.getFullYear()+"-"+(n.getMonth()+1)+"-"+n.getDate()+" "+n.getHours()+":"+n.getMinutes()+":"+n.getSeconds(),l=n.getTime(),data={msg:this.msg,user:e.displayName,posted:o};r.a.database().ref("board/"+l).set(data),this.msg="",this.message="投稿しました。"}else alert("ログインしないと投稿できません。")}},created:function(){null==r.a.auth().currentUser&&this.login(),console.log(r.a.auth().currentUser)}},c=(n(317),n(17)),component=Object(c.a)(l,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"container"},[n("div",{staticClass:"login",on:{click:t.doLogin}},[t._v("[login:"+t._s(t.user_name)+"]")]),t._v(" "),n("h1",[t._v(t._s(t.title))]),t._v(" "),n("p",{staticClass:"message"},[t._v(t._s(t.message))]),t._v(" "),t.logined?n("div",[n("table",[n("tr",[n("th",[t._v("Message")]),t._v(" "),n("td",[n("input",{directives:[{name:"model",rawName:"v-model",value:t.msg,expression:"msg"}],attrs:{size:"50"},domProps:{value:t.msg},on:{input:function(e){e.target.composing||(t.msg=e.target.value)}}})]),t._v(" "),n("td",[n("button",{on:{click:t.add}},[t._v("投稿")])])])]),t._v(" "),n("hr"),t._v(" "),t._l(t.json_data,function(data,e){return n("ul",[n("li",[n("div",{staticClass:"list1"},[t._v(t._s(data.msg))]),t._v(" "),n("div",{staticClass:"list2"},[t._v(t._s(data.user)+" ("+t._s(data.posted)+")")])])])})],2):t._e()])},[],!1,null,null,null);e.default=component.exports}}]);